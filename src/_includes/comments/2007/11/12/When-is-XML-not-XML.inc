
<div class="comment" id="c_1713674264">
	<div>
		<img src="//a.disquscdn.com/1611874952/images/noavatar32.png" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_1713674264">1</a> by charlie griefer
		posted on 11/12/2007 at 11:11 PM
		</div>
		<div class="comment_text"><p>hi ray:</p><p>i sent this entry to jon clausen, the big brain behind cfblog.  i know you said you think it's a "cf thing" more than a "cfblog thing", but i figured jon might have some insights he can offer up.</p></div>
	</div>
</div>
		
<div class="comment" id="c_1713674265">
	<div>
		<img src="//a.disquscdn.com/1611874952/images/noavatar32.png" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_1713674265">2</a> by Ben
		posted on 11/12/2007 at 11:15 PM
		</div>
		<div class="comment_text"><p>I ran that URL through the w3c XML validator and it didn't validate.</p></div>
	</div>
</div>
		
<div class="comment" id="c_1713674268">
	<div>
		<img src="//a.disquscdn.com/1611874952/images/noavatar32.png" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_1713674268">3</a> by Raymond Camden
		posted on 11/12/2007 at 11:40 PM
		</div>
		<div class="comment_text"><p>Where exactly did you validate? I tried here and it validated:</p><p><a href="http://disq.us/url?url=http%3A%2F%2Fwww.validome.org%2Frss-atom%2Fvalidate%3A7Cwyfc52AdikQ_uPreG3KCMGQrg&amp;cuid=3321886" rel="nofollow noopener" title="http://www.validome.org/rss-atom/validate">http://www.validome.org/rss...</a></p></div>
	</div>
</div>
		
<div class="comment" id="c_1713674266">
	<div>
		<img src="//a.disquscdn.com/1611874952/images/noavatar32.png" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_1713674266">4</a> by Ben Koshy
		posted on 11/12/2007 at 11:50 PM
		</div>
		<div class="comment_text"><p><a href="http://disq.us/url?url=http%3A%2F%2Fwww.validome.org%2Fxml%2Fvalidate%2F%3A5TXhh4zz8cbGDbzQ7CxPzzkMBGo&amp;cuid=3321886" rel="nofollow noopener" title="http://www.validome.org/xml/validate/">http://www.validome.org/xml...</a> doesn't validate it either.  I was trying to use a more generic validator to simulate what isXML would behave.  Is it because its missing a DTD/DOCTYPE Declaration?</p></div>
	</div>
</div>
		
<div class="comment" id="c_1713674267">
	<div>
		<img src="//a.disquscdn.com/1611874952/images/noavatar32.png" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_1713674267">5</a> by todd sharp
		posted on 11/13/2007 at 12:30 AM
		</div>
		<div class="comment_text"><p>Is it any surprise that it's Charlies feed?  Does that shock anyone?</p></div>
	</div>
</div>
		
<div class="comment" id="c_1713674280">
	<div>
		<img src="//a.disquscdn.com/1611874952/images/noavatar32.png" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_1713674280">6</a> by Jeff Price
		posted on 11/13/2007 at 12:37 AM
		</div>
		<div class="comment_text"><p>It's passed at the two validators I tried:<br><a href="http://disq.us/url?url=http%3A%2F%2Fvalidator.w3.org%3AkNVOvjwSB9ik-LgdJMX-YukPrbU&amp;cuid=3321886" rel="nofollow noopener" title="http://validator.w3.org">http://validator.w3.org</a><br><a href="http://disq.us/url?url=http%3A%2F%2Ffeedvalidator.org%3AzBLIUEP5brgpQcRXt5LYSKj3Nxw&amp;cuid=3321886" rel="nofollow noopener" title="http://feedvalidator.org">http://feedvalidator.org</a></p><p>This is really neat! I can't see a reason this would fail to be valid XML.</p></div>
	</div>
</div>
		
<div class="comment" id="c_1713674295">
	<div>
		<img src="//a.disquscdn.com/1611874952/images/noavatar32.png" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_1713674295">7</a> by charlie griefer
		posted on 11/13/2007 at 12:37 AM
		</div>
		<div class="comment_text"><p>hey when you roll hard core like me, you uncover problems that n00bs such as yourself don't encounter :P</p></div>
	</div>
</div>
		
<div class="comment" id="c_1713674292">
	<div>
		<img src="//a.disquscdn.com/1611874952/images/noavatar32.png" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_1713674292">8</a> by charlie griefer
		posted on 11/13/2007 at 12:47 AM
		</div>
		<div class="comment_text"><p>um yeah, just to clarify... my previous comment was in response to todd (best not to piss off jeff, i figure) :)</p></div>
	</div>
</div>
		
<div class="comment" id="c_1713674297">
	<div>
		<img src="//a.disquscdn.com/1611874952/images/noavatar32.png" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_1713674297">9</a> by mj
		posted on 11/13/2007 at 12:48 AM
		</div>
		<div class="comment_text"><p>If you look within the CDATA for each item there are quite a few tags that are malformed or they get chopped. If you correct these then the xml validates.</p></div>
	</div>
</div>
		
<div class="comment" id="c_1713674296">
	<div>
		<img src="//a.disquscdn.com/1611874952/images/noavatar32.png" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_1713674296">10</a> by Jeff Price
		posted on 11/13/2007 at 1:03 AM
		</div>
		<div class="comment_text"><p>LOL! It's ok to piss me off, you have my permission.</p></div>
	</div>
</div>
		
<div class="comment" id="c_1713674294">
	<div>
		<img src="//a.disquscdn.com/1611874952/images/noavatar32.png" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_1713674294">11</a> by Jon Clausen
		posted on 11/13/2007 at 1:50 AM
		</div>
		<div class="comment_text"><p>Interesting insights, Ray.  I dug into it briefly, but here's what I can tell so far:</p><p>The problem is &lt;![CDATA[]]&gt; in the xmlNode.  I always use the W3C validator which escapes malformed HTML within the CDATA.  I used CDATA on purpose because xmlFormat() doesn't always re-format correctly for valid RSS Feeds - especially when non-technical users are providing the input.</p><p>Coldfusion's isXML() doesn't appear to escape the CDATA content, however.   For example, the following feed using xmlFormat() with Charlie's content returns isXML() true:</p><p><a href="http://disq.us/url?url=http%3A%2F%2Fcfblog.griefer.com%2Ffeeds%2Frss_test.cfm%3Fblogid%3D30%3AehxWVMf7gEfeFTKcBDqhAj4Vttk&amp;cuid=3321886" rel="nofollow noopener" title="http://cfblog.griefer.com/feeds/rss_test.cfm?blogid=30">http://cfblog.griefer.com/f...</a></p><p>Whereas the original does not:</p><p><a href="http://disq.us/url?url=http%3A%2F%2Fcfblog.griefer.com%2Ffeeds%2Frss2-0.cfm%3Fblogid%3D30%3AfivLDXWVLJ_BAcTn8Utw0oRMac4&amp;cuid=3321886" rel="nofollow noopener" title="http://cfblog.griefer.com/feeds/rss2-0.cfm?blogid=30">http://cfblog.griefer.com/f...</a></p><p>Interesting stuff!</p></div>
	</div>
</div>
		
<div class="comment" id="c_1713674293">
	<div>
		<img src="//a.disquscdn.com/1611874952/images/noavatar32.png" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_1713674293">12</a> by Raymond Camden
		posted on 11/13/2007 at 1:58 AM
		</div>
		<div class="comment_text"><p>So are you saying that if I had</p><p>&lt;b&gt;foo</p><p>In my CDATA, CF would consider it bad because I enver closed the B?</p></div>
	</div>
</div>
		
<div class="comment" id="c_1713674299">
	<div>
		<img src="//a.disquscdn.com/1611874952/images/noavatar32.png" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_1713674299">13</a> by charlie griefer
		posted on 11/13/2007 at 1:58 AM
		</div>
		<div class="comment_text"><p>O_O</p><p>did jon just call me a 'non-technical user'? :)</p></div>
	</div>
</div>
		
<div class="comment" id="c_1713674301">
	<div>
		<img src="//a.disquscdn.com/1611874952/images/noavatar32.png" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_1713674301">14</a> by Jon Clausen
		posted on 11/13/2007 at 2:06 AM
		</div>
		<div class="comment_text"><p>@charlie:<br>"did jon just call me a 'non-technical user'? :)"</p><p>Errr..... :-O   No actually, the original change to using CDATA was from a couple of non-technically oriented blog portals like <a href="http://disq.us/url?url=http%3A%2F%2Fpieceoftexas.com%3AtJox05jJSB6Z_aswY5xrDXHlWV0&amp;cuid=3321886" rel="nofollow noopener" title="pieceoftexas.com">pieceoftexas.com</a>.  Users were pasting from word and even with the WYSIWYG, xmlFormat() wasn't cleaning it up enough.  There were also intermittent problems with feed readers decoding inline javascript like YouTube posts, etc. from users content.</p><p>@Ray<br>I'm going to play around with it, but it appears that any raw HTML in CDATA will cause isXML() to fail - which is the reason for using CDATA in the first place.</p></div>
	</div>
</div>
		
<div class="comment" id="c_1713674302">
	<div>
		<img src="//a.disquscdn.com/1611874952/images/noavatar32.png" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_1713674302">15</a> by Raymond Camden
		posted on 11/13/2007 at 2:11 AM
		</div>
		<div class="comment_text"><p>Jon, please let me know asap and I will file a bug report for it. Btw, I know of the xmlFormat issue and it bugs the you know what out of me.</p></div>
	</div>
</div>
		
<div class="comment" id="c_1713674300">
	<div>
		<img src="//a.disquscdn.com/1611874952/images/noavatar32.png" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_1713674300">16</a> by Rick O
		posted on 11/13/2007 at 4:48 AM
		</div>
		<div class="comment_text"><p>Ray said: "So are you saying that if I had &lt;b&gt;foo In my CDATA, CF would consider it bad because I enver closed the B?"</p><p>In my testing, it didn't appear to be looking for parity/balance of tags, so much as it was looking for parity of brackets.  That is, &lt;b&gt; without &lt;/b&gt; is okay, as is &lt;a&gt;foo&lt;/b&gt;, but &lt;b (no closing bracket) is not.  His feed at this moment has an A tag that has been chopped off between the tagName and its first attribute.</p></div>
	</div>
</div>
		
<div class="comment" id="c_1713674303">
	<div>
		<img src="//a.disquscdn.com/1611874952/images/noavatar32.png" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_1713674303">17</a> by Sammy Larbi
		posted on 11/13/2007 at 6:54 AM
		</div>
		<div class="comment_text"><p>I think parsing xml will work with what I'll call "sub xml," while isXML(value) would verify that the value is a valid xml document.  The difference would be that parsing an xml doc for  a substructure would allow you to query that substructure by parsing xml again, while it wouldn't still be a valid xml doc.</p></div>
	</div>
</div>
		
<div class="comment" id="c_1713674304">
	<div>
		<img src="//a.disquscdn.com/1611874952/images/noavatar32.png" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_1713674304">18</a> by Raymond Camden
		posted on 11/13/2007 at 5:20 PM
		</div>
		<div class="comment_text"><p>I've confirmed this and will write a follow up blog entry a bit later this morning. I"m going to log the bug report right now.</p></div>
	</div>
</div>
		