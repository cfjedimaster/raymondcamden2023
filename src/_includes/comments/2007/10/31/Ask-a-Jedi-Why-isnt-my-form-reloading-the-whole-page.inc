
<div class="comment" id="c_1713673875">
	<div>
		<img src="//a.disquscdn.com/1611874952/images/noavatar32.png" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_1713673875">1</a> by Raul Riera
		posted on 11/1/2007 at 12:51 AM
		</div>
		<div class="comment_text"><p>My second guess was a hidden feature :) Thanks</p></div>
	</div>
</div>
		
<div class="comment" id="c_1713673869">
	<div>
		<img src="//a.disquscdn.com/1611874952/images/noavatar32.png" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_1713673869">2</a> by Peter Doyle
		posted on 11/1/2007 at 1:29 AM
		</div>
		<div class="comment_text"><p>So would it not have been easier to add an option to all the above to select page/div refresh? From memory there are other differences between form/cfform than this one that mean that this will limit the usefuless of one or the other?</p><p>Just a beginners question tbh</p><p>Peter</p></div>
	</div>
</div>
		
<div class="comment" id="c_1713673867">
	<div>
		<img src="//a.disquscdn.com/1611874952/images/noavatar32.png" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_1713673867">3</a> by Ian
		posted on 11/1/2007 at 3:39 AM
		</div>
		<div class="comment_text"><p>I LOVE the CFDIV tag.  I'm completely rebuilding my CMS, and the CFDIV tag has been the centerpiece of it. Reloading within the div is really fantastic.</p></div>
	</div>
</div>
		
<div class="comment" id="c_1713673885">
	<div>
		<img src="//a.disquscdn.com/1611874952/images/noavatar32.png" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_1713673885">4</a> by Gus
		posted on 11/1/2007 at 6:01 AM
		</div>
		<div class="comment_text"><p>As a general rule, if you are surprised by behavior generated by server-side code, do a 'view source' of the page in question.  It's the best way to see what is happening on the client side.</p></div>
	</div>
</div>
		
<div class="comment" id="c_1713673877">
	<div>
		<img src="//a.disquscdn.com/1611874952/images/noavatar32.png" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_1713673877">5</a> by James Edmunds
		posted on 11/1/2007 at 5:57 PM
		</div>
		<div class="comment_text"><p>This ability to keep the cfform post action within the cfdiv, etc., is, to me, one of the great features of these tags. The user can complete the business intuitively associated with the popped-up cfwindow, etc., without disturbing the underlying page.</p></div>
	</div>
</div>
		
<div class="comment" id="c_1713673871">
	<div>
		<img src="//a.disquscdn.com/1611874952/images/noavatar32.png" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_1713673871">6</a> by Ashwin
		posted on 11/4/2007 at 6:32 AM
		</div>
		<div class="comment_text"><p>When we designed CFDIV, we tried to think of default behaviours that would be useful to developers, and keeping form submission local to the CFDIV was on the top of the list. There is still an easy way to get the whole page to submit - use ColdFusion.Ajax.submitForm() in the onclick event of the form submission button.</p></div>
	</div>
</div>
		
<div class="comment" id="c_1713673870">
	<div>
		<img src="//a.disquscdn.com/1611874952/images/noavatar32.png" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_1713673870">7</a> by Dave Phipps
		posted on 12/20/2007 at 4:00 PM
		</div>
		<div class="comment_text"><p>I have just come across an interesting 'feature', not sure if anyone has seen this. I have a cfdiv containing a cfform which I want to stay in the cfdiv on submission. This works as expected and the form submits to the action page, I see a 'Loading...' message and the form then come back with the changes applied - all good.</p><p>Then if I click the submit button again the form is submitted but not in the cfdiv and I lose the rest of my page and end up with just the form taking up the whole page.</p><p>I'll see if I can create a demo - it may be a quirk somewhere else in my code that is causing to jump out of the cfdiv.</p></div>
	</div>
</div>
		
<div class="comment" id="c_1713673881">
	<div>
		<img src="//a.disquscdn.com/1611874952/images/noavatar32.png" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_1713673881">8</a> by Dave Phipps
		posted on 12/20/2007 at 4:22 PM
		</div>
		<div class="comment_text"><p>Further investigation: If the action page does a cflocation back to the form page then the next time the form is submitted results in the form submission jumping out of the cfdiv into the main page. I don't have a live cf8 server to provide a demo but see the code below:</p><p>cfdivtest.cfm:</p><p>&lt;cfajaximport tags="cfform,cfdiv"&gt;<br>&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "<a href="http://disq.us/url?url=http%3A%2F%2Fwww.w3.org%2FTR%2Fxhtml1%2FDTD%2Fxhtml1-transitional.dtd%3AlsD79NC9EpzB4LCkih033Se6Csw&amp;cuid=3321886" rel="nofollow noopener" title="http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">http://www.w3.org/TR/xhtml1...</a>"&gt;<br>&lt;html xmlns="<a href="http://disq.us/url?url=http%3A%2F%2Fwww.w3.org%2F1999%2Fxhtml%3AA6NInarpbzWm6HKZDXlFrwZefzc&amp;cuid=3321886" rel="nofollow noopener" title="http://www.w3.org/1999/xhtml">http://www.w3.org/1999/xhtml</a>" xml:lang="en"&gt;<br>&lt;head&gt;<br>&lt;title&gt;CF DIV form test&lt;/title&gt;<br>&lt;/head&gt;<br>&lt;body&gt;<br>&lt;h1&gt;Cfdiv test&lt;/h1&gt;<br>&lt;p&gt;This text is above the cfdiv&lt;/p&gt;<br>&lt;cfdiv style="clear: both;" id="divtest" bind="url:cfdivform.cfm" /&gt;<br>&lt;p&gt;This text is below the cfdiv&lt;/p&gt;<br>&lt;/body&gt;<br>&lt;/html&gt;</p><p>cfdivform.cfm:</p><p>&lt;cfif isdefined("url.testtext")&gt;<br>&lt;p&gt;Submitted&lt;/p&gt;<br>&lt;cfoutput&gt;&lt;p&gt;#url.testtext#&lt;/p&gt;&lt;/cfoutput&gt;<br>&lt;/cfif&gt;<br>&lt;cfform name="testfrm" id="testfrm" action="cfdivformresult.cfm" method="post"&gt;<br>&lt;label for="testtext"&gt;Enter Text:&lt;/label&gt; &lt;cfinput type="text" name="testtext" id="testtext" size="20" maxlength="255" /&gt;<br>&lt;input type="submit" name="submitbtn" id="submitbtn" value="Submit Test" /&gt;<br>&lt;/cfform&gt;</p><p>cfdivformresult.cfm:</p><p>&lt;cflocation url="cfdivform.cfm?testtext=#form.testtext#" addtoken="false" /&gt;</p><p>Submit the form then submit the form a second time and you will see that the surrounding text disappears.</p><p>Is this a bug or a 'feature' and if so how do we fix it? I would rather not have to remove the cflocation which seems to be the culprit.</p></div>
	</div>
</div>
		
<div class="comment" id="c_1713673873">
	<div>
		<img src="//a.disquscdn.com/1611874952/images/noavatar32.png" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_1713673873">9</a> by Raymond Camden
		posted on 12/20/2007 at 7:20 PM
		</div>
		<div class="comment_text"><p>Dave - I've seen issues with doing cflocation in a container before. I'd move away from that. Post to the same file instead of another file with the cflocation.</p><p>Or - don't submit at all. Use ColdFusion.Ajax.submitForm() to do it.</p></div>
	</div>
</div>
		
<div class="comment" id="c_1713673872">
	<div>
		<img src="//a.disquscdn.com/1611874952/images/noavatar32.png" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_1713673872">10</a> by Dave Phipps
		posted on 12/20/2007 at 8:20 PM
		</div>
		<div class="comment_text"><p>Thanks Ray, I have now modified the code to avoid the cflocation. It was force of habit to prevent a reload from resubmitting a form, but of course this doesn't apply to containers as you can't reload the individual containers by hitting refresh.</p></div>
	</div>
</div>
		
<div class="comment" id="c_1713673883">
	<div>
		<img src="//a.disquscdn.com/1611874952/images/noavatar32.png" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_1713673883">11</a> by michael grove
		posted on 5/23/2008 at 10:08 AM
		</div>
		<div class="comment_text"><p>so is it possible to use a cflocation inside the cfdiv to replace the whole page?</p><p>I like the idea of staying in the div, but sometimes you just want out.</p></div>
	</div>
</div>
		
<div class="comment" id="c_1713673882">
	<div>
		<img src="//a.disquscdn.com/1611874952/images/noavatar32.png" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_1713673882">12</a> by Raymond Camden
		posted on 5/23/2008 at 2:39 PM
		</div>
		<div class="comment_text"><p>You have to remember that Ajax requests are different. If you say that a cfdiv points to foo.cfm, the browser makes a request for foo.cfm and expects content back. cflocation returns a header that says go someplace else. So I'm not sure how the Ajax will handle that - but it won't replace the entire page. If you want to do that - I'd just use javascript.</p></div>
	</div>
</div>
		
<div class="comment" id="c_1713673876">
	<div>
		<img src="//a.disquscdn.com/1611874952/images/noavatar32.png" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_1713673876">13</a> by Sinuy
		posted on 5/28/2008 at 6:23 PM
		</div>
		<div class="comment_text"><p>hi Ray<br>form post, ajaxlink() works fine now. but thing is, when i reinit app over this URL http://localhost/index.cfm/reinit/1, the ajaxified area performs INFINITE LOOPS.</p><p>do you have face same kind of problem?</p></div>
	</div>
</div>
		
<div class="comment" id="c_1713673865">
	<div>
		<img src="//a.disquscdn.com/1611874952/images/noavatar32.png" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_1713673865">14</a> by Raymond Camden
		posted on 5/28/2008 at 9:13 PM
		</div>
		<div class="comment_text"><p>Sounds like a logic error in your code. Nothing about ajaxlink would cause this out of the box.</p></div>
	</div>
</div>
		
<div class="comment" id="c_1713673879">
	<div>
		<img src="//a.disquscdn.com/1611874952/images/noavatar32.png" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_1713673879">15</a> by Mik Muller
		posted on 6/23/2010 at 11:14 PM
		</div>
		<div class="comment_text"><p>I'm trying this now for the first time. The code looks identical to that posted above, but when the form comes back I get an IIS error:</p><p>The page cannot be found</p><p>The page you are looking for might have been removed, had its name changed, or is temporarily unavailable.</p></div>
	</div>
</div>
		
<div class="comment" id="c_1713673878">
	<div>
		<img src="//a.disquscdn.com/1611874952/images/noavatar32.png" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_1713673878">16</a> by Raymond Camden
		posted on 6/23/2010 at 11:16 PM
		</div>
		<div class="comment_text"><p>Are you sure the destination of the form is valid? Are you using a form or cfform?</p></div>
	</div>
</div>
		
<div class="comment" id="c_1713673886">
	<div>
		<img src="//a.disquscdn.com/1611874952/images/noavatar32.png" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_1713673886">17</a> by Mik Muller
		posted on 6/23/2010 at 11:22 PM
		</div>
		<div class="comment_text"><p>Ahhh.... found it. There was a form element with name="action" and "action" is a reserved word.</p><p>Problemo solved.</p></div>
	</div>
</div>
		
<div class="comment" id="c_1713673880">
	<div>
		<img src="//a.disquscdn.com/1611874952/images/noavatar32.png" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_1713673880">18</a> by Mik Muller
		posted on 6/23/2010 at 11:23 PM
		</div>
		<div class="comment_text"><p>It is a CFFORM.</p><p>&lt;input type="Submit" name="theaction" value="Update"&gt;</p><p>BTW, how do I get my face on these posts? I can't find the "my account" page.</p></div>
	</div>
</div>
		
<div class="comment" id="c_1713673884">
	<div>
		<img src="//a.disquscdn.com/1611874952/images/noavatar32.png" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_1713673884">19</a> by Raymond Camden
		posted on 6/23/2010 at 11:37 PM
		</div>
		<div class="comment_text"><p>Register at <a href="http://disq.us/url?url=http%3A%2F%2Fgravatar.com%3AqgucOaVb_wSTka7rDcgIRlr8ETM&amp;cuid=3321886" rel="nofollow noopener" title="gravatar.com">gravatar.com</a>. It's used everywhere.</p></div>
	</div>
</div>
		
<div class="comment" id="c_1713673887">
	<div>
		<img src="//a.disquscdn.com/1611874952/images/noavatar32.png" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_1713673887">20</a> by Mik Muller
		posted on 6/23/2010 at 11:50 PM
		</div>
		<div class="comment_text"><p>testing my new <a href="http://disq.us/url?url=http%3A%2F%2Fgravatar.com%3AqgucOaVb_wSTka7rDcgIRlr8ETM&amp;cuid=3321886" rel="nofollow noopener" title="gravatar.com">gravatar.com</a> avatar</p></div>
	</div>
</div>
		
<div class="comment" id="c_1713673866">
	<div>
		<img src="//a.disquscdn.com/1611874952/images/noavatar32.png" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_1713673866">21</a> by Mik Muller
		posted on 9/3/2010 at 9:01 PM
		</div>
		<div class="comment_text"><p>Boy, I've come a long, long way since June. I agree with Ian, above. The CFDIV with CFFORM is unbelievably powerful. You can just sprinkle your site with buttons that do things without having to reload the whole page. What freedom!</p></div>
	</div>
</div>
		
<div class="comment" id="c_1713673868">
	<div>
		<img src="//a.disquscdn.com/1611874952/images/noavatar32.png" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_1713673868">22</a> by Brian Fleishman
		posted on 3/16/2013 at 12:11 AM
		</div>
		<div class="comment_text"><p>How do you "Post to the same file "?</p></div>
	</div>
</div>
		
<div class="comment" id="c_1713673874">
	<div>
		<img src="//a.disquscdn.com/1611874952/images/noavatar32.png" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_1713673874">23</a> by Raymond Camden
		posted on 3/16/2013 at 2:58 PM
		</div>
		<div class="comment_text"><p>I meant use a form action of the same CFM.</p></div>
	</div>
</div>
		