
<div class="comment" id="c_1713723811">
	<div>
		<img src="//a.disquscdn.com/1611874952/images/noavatar32.png" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_1713723811">1</a> by Dale Severin
		posted on 4/28/2010 at 10:02 PM
		</div>
		<div class="comment_text"><p>That is so clever and cool.  It is just amazing what simple jQuery statements can accomplish.</p></div>
	</div>
</div>
		
<div class="comment" id="c_1713723810">
	<div>
		<img src="//a.disquscdn.com/1611874952/images/noavatar32.png" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_1713723810">2</a> by Ryan Jeffords
		posted on 4/28/2010 at 10:21 PM
		</div>
		<div class="comment_text"><p>It's funny -- I was thinking about this exact concept this morning (while wondering why <a href="http://disq.us/url?url=http%3A%2F%2Fmangoblog.org%3AK5nbdnP5jrBVP0x2HAvwq5DwJSY&amp;cuid=3321886" rel="nofollow noopener" title="mangoblog.org">mangoblog.org</a> was down).</p><p>Good game!</p></div>
	</div>
</div>
		
<div class="comment" id="c_1713723815">
	<div>
		<img src="//a.disquscdn.com/1611874952/images/noavatar32.png" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_1713723815">3</a> by Raymond Camden
		posted on 4/28/2010 at 10:23 PM
		</div>
		<div class="comment_text"><p>You should have been visiting <a href="http://disq.us/url?url=http%3A%2F%2Fblogcfc.com%3Ae9_lb-nHK9ZZsEmuoDuxB5yk0rQ&amp;cuid=3321886" rel="nofollow noopener" title="blogcfc.com">blogcfc.com</a> instead. It was up. ;) (Although its quite a bit more ugly. :)</p></div>
	</div>
</div>
		
<div class="comment" id="c_1713723812">
	<div>
		<img src="//a.disquscdn.com/1611874952/images/noavatar32.png" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_1713723812">4</a> by Matt W
		posted on 4/28/2010 at 10:52 PM
		</div>
		<div class="comment_text"><p>I actually like this idea for BlogCFC. I use the plain textarea for adding blog entries and occasionally put in some html. A pop-up preview could be handy to help me make sure I didn't fat finger something.</p></div>
	</div>
</div>
		
<div class="comment" id="c_1713723816">
	<div>
		<img src="//a.disquscdn.com/1611874952/images/noavatar32.png" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_1713723816">5</a> by Raymond Camden
		posted on 4/28/2010 at 10:54 PM
		</div>
		<div class="comment_text"><p>Interesting. As you know, I toyed with the idea of adding a RTE to BlogCFC, but had trouble making it work with the code blocks. I think that would be a problem here too. Then again, I can customize the above to change both a) ignore &lt;more/&gt; and b), change &lt;code&gt; to pre blocks. It won't be an EXACT match, but would be close. (I could get fancy and do an AJAX call to render code blocks.) Of course, you can just click the Preview button too. You do know that feature exists, right? :)</p></div>
	</div>
</div>
		
<div class="comment" id="c_1713723817">
	<div>
		<img src="//a.disquscdn.com/1611874952/images/noavatar32.png" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_1713723817">6</a> by Matt W
		posted on 4/28/2010 at 11:00 PM
		</div>
		<div class="comment_text"><p>Yes, and right after I posted my comment I realized I should've mentioned the existing preview which I do use. But the jQuery way would be more faster, more cooler, and a real world use for this blog post. :)</p></div>
	</div>
</div>
		
<div class="comment" id="c_1713723819">
	<div>
		<img src="//a.disquscdn.com/1611874952/images/noavatar32.png" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_1713723819">7</a> by David Long
		posted on 4/28/2010 at 11:01 PM
		</div>
		<div class="comment_text"><p>Just one problem with your app.  If a use puts leaves the textarea then the last character typed will not be seen... could be something frustrating...</p><p>But as you said this was just a quick and really cool code bit.</p></div>
	</div>
</div>
		
<div class="comment" id="c_1713723813">
	<div>
		<img src="//a.disquscdn.com/1611874952/images/noavatar32.png" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_1713723813">8</a> by William Mengers
		posted on 4/28/2010 at 11:15 PM
		</div>
		<div class="comment_text"><p>Web based IDE?!</p></div>
	</div>
</div>
		
<div class="comment" id="c_1713723821">
	<div>
		<img src="//a.disquscdn.com/1611874952/images/noavatar32.png" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_1713723821">9</a> by brookr
		posted on 4/28/2010 at 11:19 PM
		</div>
		<div class="comment_text"><p>I think if you use the keyup(func) event handler instead, it will show that last character.</p><p>Cool demo, thanks!</p></div>
	</div>
</div>
		
<div class="comment" id="c_1713723814">
	<div>
		<img src="//a.disquscdn.com/1611874952/images/noavatar32.png" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_1713723814">10</a> by Justin Campbell
		posted on 4/28/2010 at 11:23 PM
		</div>
		<div class="comment_text"><p>You should bind this to .keyup instead. That way $(this).val will include the most recent character.</p></div>
	</div>
</div>
		
<div class="comment" id="c_1713723818">
	<div>
		<img src="//a.disquscdn.com/1611874952/images/noavatar32.png" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_1713723818">11</a> by Raymond Camden
		posted on 4/28/2010 at 11:38 PM
		</div>
		<div class="comment_text"><p>For those who suggested keyup - thank you. I hate to say it but I _always_ forget it.</p><p>I updated both the demo and the blog post. (Ok, technically, demo is updated, blog post being updated in 30 seconds.)</p></div>
	</div>
</div>
		
<div class="comment" id="c_1713723827">
	<div>
		<img src="//a.disquscdn.com/1611874952/images/noavatar32.png" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_1713723827">12</a> by Me
		posted on 4/28/2010 at 11:44 PM
		</div>
		<div class="comment_text"><p>I pasted the code from the comment form into the "Stupid jQuery Trick - HTML Preview" demo textarea. I'm able to modify the form even though it's still being served from <a href="http://disq.us/url?url=http%3A%2F%2Fcoldfusionjedi.com%3AJ8pERI_trwqQzNfJuj3ekUNZkfU&amp;cuid=3321886" rel="nofollow noopener" title="coldfusionjedi.com">coldfusionjedi.com</a> -- so I'm thinking that this poses some security risks. People can bypass XSS checks by submitting a modified/malicious form from your own domain.</p></div>
	</div>
</div>
		
<div class="comment" id="c_1713723825">
	<div>
		<img src="//a.disquscdn.com/1611874952/images/noavatar32.png" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_1713723825">13</a> by Raymond Camden
		posted on 4/28/2010 at 11:46 PM
		</div>
		<div class="comment_text"><p>Well normally such a code block would be admin only. But as to my _particular_ demo - I don't see how much of a security risk it would be. My comment form is an 'open' POST. It does have spam protection on it though. If you were to write code to hit it N times I'd block against that too. ;) But on a practical level, anyone writing HTML for content for a web app is going to be a trusted user.</p></div>
	</div>
</div>
		
<div class="comment" id="c_1713723829">
	<div>
		<img src="//a.disquscdn.com/1611874952/images/noavatar32.png" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_1713723829">14</a> by Stephen Belanger
		posted on 4/29/2010 at 12:09 AM
		</div>
		<div class="comment_text"><p>This would fail rather fantastically in real world use. For one thing, someone could just enter '&lt;/div&gt;' to escape the preview box. If you are calling this on each keyup you'd likely also have issues with dead elements being generated in some browsers. Say you type '&lt;font&gt;' and then start to type some text before closing it, you will generate an empty &lt;font&gt; element before the text like this &lt;font /&gt; that will sitFor there until you finish closing it. Some browsers may also have issues with finding a non-encoded &lt; without a closing &gt; to indicate an element closure.</p></div>
	</div>
</div>
		
<div class="comment" id="c_1713723828">
	<div>
		<img src="//a.disquscdn.com/1611874952/images/noavatar32.png" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_1713723828">15</a> by Raymond Camden
		posted on 4/29/2010 at 12:12 AM
		</div>
		<div class="comment_text"><p>You could always block div easily enough, could you not? Also, when I tried &lt;font&gt; ... it worked fine in Chrome. Seriously though - this is mainly just an experiment. Worked well in Chrome and was fun to look at it. I'm not going to be selling it to any clients anytime soon. ;)</p></div>
	</div>
</div>
		
<div class="comment" id="c_1713723832">
	<div>
		<img src="//a.disquscdn.com/1611874952/images/noavatar32.png" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_1713723832">16</a> by "Cowboy" Ben Alman
		posted on 4/29/2010 at 12:12 AM
		</div>
		<div class="comment_text"><p>Hmmn.... <a href="http://disq.us/url?url=http%3A%2F%2Fbenalman.com%2Fgrab%2Ff2a8e6.png%3A0TyNdHsTtJWBUzlFg-Uuzkc_iSA&amp;cuid=3321886" rel="nofollow noopener" title="http://benalman.com/grab/f2a8e6.png">http://benalman.com/grab/f2...</a></p></div>
	</div>
</div>
		
<div class="comment" id="c_1713723843">
	<div>
		<img src="//a.disquscdn.com/1611874952/images/noavatar32.png" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_1713723843">17</a> by Raymond Camden
		posted on 4/29/2010 at 12:14 AM
		</div>
		<div class="comment_text"><p>I'd add script then to the text you want to remove. Again, I'm thinking of clients who just want some simple HTML styled blocks.</p></div>
	</div>
</div>
		
<div class="comment" id="c_1713723841">
	<div>
		<img src="//a.disquscdn.com/1611874952/images/noavatar32.png" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_1713723841">18</a> by todd sharp
		posted on 4/29/2010 at 12:27 AM
		</div>
		<div class="comment_text"><p>Cool stuff man - just one thought re: blogcfc -- you technically wouldn't have to change the &lt;code&gt; blocks because &lt;code&gt; is a valid HTML tag.  Now your textblocks and includes, etc wouldn't obviously work, but that's a different story.</p></div>
	</div>
</div>
		
<div class="comment" id="c_1713723847">
	<div>
		<img src="//a.disquscdn.com/1611874952/images/noavatar32.png" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_1713723847">19</a> by Aaron Cox
		posted on 4/29/2010 at 1:15 AM
		</div>
		<div class="comment_text"><p>There are plenty of things that could go wrong here, I think we all know that so aside from suggestions let's not bother with the whole "real world" thing. I know Ray didn't write this to be someone's silver bullet. These things are always fun to play with.</p><p>Ray, another thing you can add is mouse event detection whenever the field is focused. I've used it for textarea counters and the like. This way you can pick up on paste operations. As far as the unclosed tags... pffft, get some interns to write the validation garble :P.</p></div>
	</div>
</div>
		
<div class="comment" id="c_1713723845">
	<div>
		<img src="//a.disquscdn.com/1611874952/images/noavatar32.png" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_1713723845">20</a> by Raymond Camden
		posted on 4/29/2010 at 1:19 AM
		</div>
		<div class="comment_text"><p>Aaron, I want to focus on something you said at the end there - as it is something I've thought about for quite some time. Ignore the preview. Just imagine a simple text field.</p><p>Is there a simple jQuery way (or whatever, who cares about frameworks now) to examine a string and see if it is valid HTML? One could simply count tags and closing tags. (And frankly, that would be enough for most of the mistakes I make when editing blog posts.) But that wouldn't handle cases where you use 'bad' html, like the &lt;foo&gt; tag. One could then simply regex for unrecognized tags. But that would be hard to maintain with HTML 5 coming out in the next decade or so. (Sorry, old time coder here, bit cranky it's going to take 20 years for some of the more simpler parts of HTML5.)</p><p>Anyway, has anyone ever tackled this type of validation before?</p></div>
	</div>
</div>
		
<div class="comment" id="c_1713723846">
	<div>
		<img src="//a.disquscdn.com/1611874952/images/noavatar32.png" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_1713723846">21</a> by Aaron Cox
		posted on 4/29/2010 at 1:43 AM
		</div>
		<div class="comment_text"><p>I've done a little bit of that sort of tag checking with a few regexes. They weren't all that simple though, since you need to do some look aheads and all that jazz. Then again I'm not claiming to be a regex wizard either. I'm definitely going to take a shot at scripting that tonight though, I'm intrigued now.</p></div>
	</div>
</div>
		
<div class="comment" id="c_1713723842">
	<div>
		<img src="//a.disquscdn.com/1611874952/images/noavatar32.png" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_1713723842">22</a> by John Allen
		posted on 4/29/2010 at 4:22 AM
		</div>
		<div class="comment_text"><p>TOOOO Cute!</p></div>
	</div>
</div>
		
<div class="comment" id="c_1713723850">
	<div>
		<img src="//a.disquscdn.com/1611874952/images/noavatar32.png" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_1713723850">23</a> by Raymond Camden
		posted on 4/29/2010 at 4:50 AM
		</div>
		<div class="comment_text"><p>That's me - the cute programmer. ;)</p></div>
	</div>
</div>
		
<div class="comment" id="c_1713723848">
	<div>
		<img src="//a.disquscdn.com/1611874952/images/noavatar32.png" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_1713723848">24</a> by Luke Scammell
		posted on 4/30/2010 at 4:20 PM
		</div>
		<div class="comment_text"><p>This is very cool, I like it a lot.</p><p>If you wanted to use it in "The Real World™" you'd probably want to look at porting HTML purifier (<a href="http://disq.us/url?url=http%3A%2F%2Fhtmlpurifier.org%2F%29%3AI6zON_7ecvdnnroDsuQbOxUlNzc&amp;cuid=3321886" rel="nofollow noopener" title="http://htmlpurifier.org/)">http://htmlpurifier.org/)</a> to Javascript - that could be fun! :D</p></div>
	</div>
</div>
		
<div class="comment" id="c_1713723851">
	<div>
		<img src="//a.disquscdn.com/1611874952/images/noavatar32.png" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_1713723851">25</a> by Ofeargall
		posted on 5/14/2010 at 8:46 PM
		</div>
		<div class="comment_text"><p>Ahhh, Ray, I love stupid, it suits me so well! Actually, this turns out to be something I'm really needing as a part of an upcoming site. The site has a jQuery rotator that displays specials. It's got a headline, short description and a price. I've got the preview area set up to look just like the rotator and 3 fields in the 'form'. I was REALLY trying to figure out a way to NOT have to use a character counter on each line because not all characters are the same width, etc... This solves that problem completely. Love it.<br>[code]&lt;script type="text/javascript" src="<a href="http://disq.us/url?url=http%3A%2F%2Fajax.googleapis.com%2Fajax%2Flibs%2Fjquery%2F1.4.2%2Fjquery.min.js%3A-LQ4VwlsEUgpH8nUqzMslFAE_dk&amp;cuid=3321886" rel="nofollow noopener" title="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js">http://ajax.googleapis.com/...</a>" &gt;&lt;/script&gt;<br>&lt;script&gt;<br>$(document).ready(function() {<br>	$("#headline").keyup(function() {<br>		$(".headline").html($(this).val())<br>	});<br>	$("#description").keyup(function() {<br>		$(".description").html($(this).val())<br>	});<br>	$("#price").keyup(function() {<br>		$(".price").html($(this).val())<br>	});<br>});<br>&lt;/script&gt;<br>&lt;/head&gt;</p><p>&lt;body&gt;<br>&lt;/body&gt;<br>&lt;/html&gt;</p><p>&lt;p&gt;Headline:&lt;br/&gt;<br>	&lt;textarea id="headline" cols="20" rows="3"&gt;&lt;/textarea&gt;<br>	&lt;br/&gt;<br>	&lt;textarea id="description" cols="20" rows="3"&gt;&lt;/textarea&gt;<br>	&lt;br/&gt;<br>	&lt;textarea id="price" cols="20" rows="3"&gt;&lt;/textarea&gt;<br>&lt;p/&gt;</p><p>&lt;div id="specials"&gt;<br>    &lt;h1 class="headline"&gt;&lt;/h1&gt;<br>    &lt;p class="description"&gt;&lt;/p&gt;<br>    &lt;p class="price"&gt;&lt;/p&gt;<br>&lt;/div&gt;[/code]</p></div>
	</div>
</div>
		
<div class="comment" id="c_1713723849">
	<div>
		<img src="//a.disquscdn.com/1611874952/images/noavatar32.png" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_1713723849">26</a> by Ofeargall
		posted on 5/14/2010 at 8:52 PM
		</div>
		<div class="comment_text"><p>Ouch. Major posting faux pas. Sorry for incorrect code sampling.</p></div>
	</div>
</div>
		