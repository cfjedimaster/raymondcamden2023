
<div class="comment" id="c_1713728726">
	<div>
		<img src="//a.disquscdn.com/1611874952/images/noavatar32.png" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_1713728726">1</a> by Mark Ross
		posted on 1/11/2011 at 1:04 AM
		</div>
		<div class="comment_text"><p>Great post.  It's always nice to hear about other ways to approach a problem.</p><p>One question, sort of unrelated to the topic.  What is this code for in the &lt;a&gt; tag:</p><p>rel="position: 'inside', zoomWidth:'100', zoomHeight:'100'"</p><p>I've never seen that before so I was curious what it's for?</p></div>
	</div>
</div>
		
<div class="comment" id="c_1713728727">
	<div>
		<img src="//a.disquscdn.com/1611874952/images/noavatar32.png" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_1713728727">2</a> by Raymond Camden
		posted on 1/11/2011 at 1:05 AM
		</div>
		<div class="comment_text"><p>I've sent Chris this URL so he may reply with the real answer, but I think it is for the 'zoom' effect on the products. Did you notice that effect?</p></div>
	</div>
</div>
		
<div class="comment" id="c_1713728728">
	<div>
		<img src="//a.disquscdn.com/1611874952/images/noavatar32.png" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_1713728728">3</a> by Giancarlo Gomez
		posted on 1/11/2011 at 1:09 AM
		</div>
		<div class="comment_text"><p>Ray, remove your console.log() from your js as it makes the demo fail if you do not have a console open.</p></div>
	</div>
</div>
		
<div class="comment" id="c_1713728729">
	<div>
		<img src="//a.disquscdn.com/1611874952/images/noavatar32.png" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_1713728729">4</a> by Raymond Camden
		posted on 1/11/2011 at 1:13 AM
		</div>
		<div class="comment_text"><p>As I made clear - I left that in on purpose. Please try with Chrome, or Firefox+Firebug. Or, you can download the zip and run it locally assuming you installed the CF demo apps.</p></div>
	</div>
</div>
		
<div class="comment" id="c_1713728730">
	<div>
		<img src="//a.disquscdn.com/1611874952/images/noavatar32.png" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_1713728730">5</a> by Mark Ross
		posted on 1/11/2011 at 1:21 AM
		</div>
		<div class="comment_text"><p>Now I see the zoom effect on his site.  Neat.  He must use that tag (rel) as a placeholder for some custom JS script as I don't believe "rel" is a normal attribute for the &lt;a&gt; tag.  I could be wrong though.  Thanks for pointing me to his site!</p></div>
	</div>
</div>
		
<div class="comment" id="c_1713728734">
	<div>
		<img src="//a.disquscdn.com/1611874952/images/noavatar32.png" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_1713728734">6</a> by John C. Bland II
		posted on 1/11/2011 at 1:40 AM
		</div>
		<div class="comment_text"><p>Ray, use the following to make your code run regardless of console availability:<br>If(console) console.log("something");</p><p>I use it all the time in a simple log function.</p></div>
	</div>
</div>
		
<div class="comment" id="c_1713728731">
	<div>
		<img src="//a.disquscdn.com/1611874952/images/noavatar32.png" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_1713728731">7</a> by Raymond Camden
		posted on 1/11/2011 at 2:40 AM
		</div>
		<div class="comment_text"><p>I am perfectly aware of how to code around this - it's just that I don't _want_ to. ;) Maybe I'm being a jerk about this, but I kinda expect Ajax developers to use a browser that supports this out of the box. Regular users? Of course not. But "us" dev folks should not be complaining about it.</p></div>
	</div>
</div>
		
<div class="comment" id="c_1713728733">
	<div>
		<img src="//a.disquscdn.com/1611874952/images/noavatar32.png" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_1713728733">8</a> by John C. Bland II
		posted on 1/11/2011 at 2:42 AM
		</div>
		<div class="comment_text"><p>Haha...no sweat. I should have known you knew about it but figured I'd mention it anyway. :-)</p><p>Good stuff though.</p></div>
	</div>
</div>
		
<div class="comment" id="c_1713728732">
	<div>
		<img src="//a.disquscdn.com/1611874952/images/noavatar32.png" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_1713728732">9</a> by Giancarlo Gomez
		posted on 1/11/2011 at 2:45 AM
		</div>
		<div class="comment_text"><p>Yeah Sorry Ray, I didn't really read the entire post just clicked on the demo link. I use Prototype and Scriptaculous but from time to time I like to see jQuery examples.</p></div>
	</div>
</div>
		
<div class="comment" id="c_1713728740">
	<div>
		<img src="//a.disquscdn.com/1611874952/images/noavatar32.png" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_1713728740">10</a> by Raymond Camden
		posted on 1/11/2011 at 2:46 AM
		</div>
		<div class="comment_text"><p>No need to apologize - I'm on somewhat of a religious crusade for the JS console. ;)</p></div>
	</div>
</div>
		
<div class="comment" id="c_1713728746">
	<div>
		<img src="//a.disquscdn.com/1611874952/images/noavatar32.png" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_1713728746">11</a> by Grant Eagon
		posted on 1/11/2011 at 5:06 PM
		</div>
		<div class="comment_text"><p>Had design questions of my own around this topic.  When the possibility of reducing the page refreshes came around, I wanted to ajax everything.</p><p>What I learned was that you're not trying to replace HTML/CSS [looking at you flash websites], you're trying to make HTML/CSS faster/simple to use.</p><p>I primarily use ajax to reduce page refreshes and that's all.</p><p>I manage sessions and apps and files and databases with CF, and just connect the pieces with JS.  If you're a halfway decent programmer you can keep the parts and pieces really small so there's no question of CF load to me.</p><p>Code files that do too much are always bad IMO. So, breaking it up in to tiny little pieces is a more manageable load anyway.</p><p>Network issues I would usually get around in some logical manner.  If you have some big dataset the user needs to download, then cache it and use it as a "dictionary".  If you have a too many little requests, then you probably need to look at creating some js object to track all the interface changes, then process them once when saving or checking out or whatever.</p><p>END RANT</p></div>
	</div>
</div>
		
<div class="comment" id="c_1713728751">
	<div>
		<img src="//a.disquscdn.com/1611874952/images/noavatar32.png" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_1713728751">12</a> by Phillip Senn
		posted on 1/11/2011 at 10:45 PM
		</div>
		<div class="comment_text"><p>OK, apparently there's something foundational about AJAX that I still don't understand...<br>I didn't think you could use the session scope with AJAX request because in my mind, an AJAX request was like another process coming in stateless.</p></div>
	</div>
</div>
		
<div class="comment" id="c_1713728745">
	<div>
		<img src="//a.disquscdn.com/1611874952/images/noavatar32.png" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_1713728745">13</a> by Raymond Camden
		posted on 1/11/2011 at 11:47 PM
		</div>
		<div class="comment_text"><p>It is stateless. But like any other HTTP request, it can use cookies. Don't even think about Ajax. It's all HTTP requests. Whether it's you typing in the URL in the browser or clicking a link or jQuery firing it, it's all the same.</p></div>
	</div>
</div>
		
<div class="comment" id="c_1713728747">
	<div>
		<img src="//a.disquscdn.com/1611874952/images/noavatar32.png" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_1713728747">14</a> by Grant Eagon
		posted on 1/11/2011 at 11:48 PM
		</div>
		<div class="comment_text"><p>@Phillip</p><p>Yeah, sessions, cookies, etc available over ajax.  Just cfoutput some variable on your ajax url and see if you can't get a value from it with an ajax call.</p></div>
	</div>
</div>
		
<div class="comment" id="c_1713728749">
	<div>
		<img src="//a.disquscdn.com/1611874952/images/noavatar32.png" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_1713728749">15</a> by Mike Kear
		posted on 1/12/2011 at 4:33 PM
		</div>
		<div class="comment_text"><p>I'm sure this is impressive indeed, but try as I might,  load and reload,  the buttons and demos do nothing when I click on them.   Not in Google Chrome,  or in the version of IE that's in FeedDemon.     That leads me to remain cautious about using jquery for anything as critical as a shopping cart where users might not get the full experience.  <br>If Ray's demo was a real shopping cart, I'd be a lost customer.</p></div>
	</div>
</div>
		
<div class="comment" id="c_1713728758">
	<div>
		<img src="//a.disquscdn.com/1611874952/images/noavatar32.png" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_1713728758">16</a> by Raymond Camden
		posted on 1/12/2011 at 6:23 PM
		</div>
		<div class="comment_text"><p>Your concerns are definitely valid, but I can assure you many large, commercial sites make use of jQuery. This demo represents approximately one hour of work. Any "real" app would have a bit more QA done to it. ;) That being said, let's try to diagnose why it isn't working for you in Chrome. It won't work in IE due to the console.log msg.</p><p>In Chrome, open your dev tools and see what error is being reported.</p></div>
	</div>
</div>
		
<div class="comment" id="c_1713728759">
	<div>
		<img src="//a.disquscdn.com/1611874952/images/noavatar32.png" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_1713728759">17</a> by Phillip Senn
		posted on 1/12/2011 at 8:15 PM
		</div>
		<div class="comment_text"><p>Now this is interesting.  I thought the meta data was returned in upper case, and it is if you do this in the cfc:<br>	&lt;cfset var result = {}&gt;<br>	&lt;cfset result.myName = session.myName&gt;<br>&lt;cfreturn result&gt;</p><p>Then it IS returned in upper case.<br>But if you simply do a &lt;cfreturn session&gt;, then lowercase myname is a variable in the returned event instead of upper case MYNAME.</p><p>&lt;cfset session.myName = "Phillip Senn"&gt;<br>&lt;!DOCTYPE HTML&gt;<br>&lt;html&gt;<br>&lt;head&gt;<br>&lt;meta charset="utf-8"&gt;<br>&lt;title&gt;SESSION&lt;/title&gt;<br>&lt;script src="<a href="http://disq.us/url?url=http%3A%2F%2Fwww.google.com%2Fjsapi%3Avbl28ruWWKTpp21RiJwKnS52-hc&amp;cuid=3321886" rel="nofollow noopener" title="http://www.google.com/jsapi">http://www.google.com/jsapi</a>"&gt;&lt;/script&gt;<br>&lt;script type="text/javascript"&gt;<br>google.load("jquery", "1");<br>&lt;/script&gt;<br>&lt;script&gt;<br>$(function() {</p><p>	$.ajax({<br>		url: 'Remote.cfc'<br>		,dataType: 'json'<br>		,data: {<br>			method:'mySession'<br>			,returnFormat:'json'<br>		}<br>		,error: function(XMLHttpRequest, textStatus, errorThrown) {<br>			$('#msg').text(textStatus).addClass('err')<br>		}<br>		,success: function(result){<br>			console.log(result);<br>			console.log('result.myname is:',result.myname);<br>			console.log('result.MYNAME is:',result.MYNAME);<br>		}<br>	});<br>});<br>&lt;/script&gt;<br>&lt;/head&gt;</p><p>&lt;body&gt;<br>&lt;div id="msg"&gt;&lt;/div&gt;<br>&lt;/body&gt;<br>&lt;/html&gt;</p><p>&lt;cfcomponent&gt;<br>&lt;cffunction name="mySession" access="remote"&gt;<br>&lt;cfreturn session&gt;<br>&lt;/cffunction&gt;<br>&lt;/cfcomponent&gt;</p></div>
	</div>
</div>
		
<div class="comment" id="c_1713728760">
	<div>
		<img src="//a.disquscdn.com/1611874952/images/noavatar32.png" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_1713728760">18</a> by Raymond Camden
		posted on 1/12/2011 at 8:18 PM
		</div>
		<div class="comment_text"><p>My understanding is that it is in _how_ you create the struct. So if you use dot notation than it is always upper cased. If you use brackets, then it is in the case you used. So this will always be uppercase:</p><p>&lt;cfset s.fOO = 1&gt;<br>&lt;cfset <a href="http://disq.us/url?url=http%3A%2F%2Fs.ooo%3A5jdcqgpIRywEd3zsnwO1pTjdH6w&amp;cuid=3321886" rel="nofollow noopener" title="s.ooo">s.ooo</a> = 2&gt;</p><p>And this will keep the same case.</p><p>&lt;cfset s["foO"] = 1&gt;<br>&lt;cfset s["gOX"] = 2&gt;</p></div>
	</div>
</div>
		
<div class="comment" id="c_1713728762">
	<div>
		<img src="//a.disquscdn.com/1611874952/images/noavatar32.png" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_1713728762">19</a> by Phillip Senn
		posted on 1/12/2011 at 8:54 PM
		</div>
		<div class="comment_text"><p>Oh!  That's what Andy Matthews was talking about on that other AJAX post!<br>It's all coming around now.</p></div>
	</div>
</div>
		
<div class="comment" id="c_1713728767">
	<div>
		<img src="//a.disquscdn.com/1611874952/images/noavatar32.png" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_1713728767">20</a> by existdissolve
		posted on 1/12/2011 at 10:21 PM
		</div>
		<div class="comment_text"><p>I'm trying to get in the habit of always using brackets in struct creation...can't count how many times I've banged my head against some piece of broken AJAX, only to realize that keys were improperly cased :)</p><p>Should point out too that the same holds true for implicit structure creation, just different syntax:</p><p>&lt;cfscript&gt;<br>   mystruct = {admin=true,"falSIfy"=false};<br>&lt;/cfscript&gt;</p><p>will produce a structure with keys "ADMIN" and "falSIfy"</p></div>
	</div>
</div>
		
<div class="comment" id="c_1713728769">
	<div>
		<img src="//a.disquscdn.com/1611874952/images/noavatar32.png" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_1713728769">21</a> by Phil baker
		posted on 1/28/2011 at 10:16 AM
		</div>
		<div class="comment_text"><p>wow ! that's what i am looking for. thank you very much dude.</p></div>
	</div>
</div>
		
<div class="comment" id="c_1713728768">
	<div>
		<img src="//a.disquscdn.com/1611874952/images/noavatar32.png" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_1713728768">22</a> by dmitry
		posted on 3/14/2011 at 4:42 AM
		</div>
		<div class="comment_text"><p>It would be really great if you were to include download files with your post. It will make following your tutorials much more effective especially for novice coldfusion developers like myself.</p></div>
	</div>
</div>
		
<div class="comment" id="c_1713728771">
	<div>
		<img src="//a.disquscdn.com/1611874952/images/noavatar32.png" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_1713728771">23</a> by Raymond Camden
		posted on 3/14/2011 at 5:06 AM
		</div>
		<div class="comment_text"><p>I did - and normally do. See the "Download attached file" link at the end of the blog entry?</p><p>Sometimes on jQuery-ish entries I won't if you just need to view source to get the code.</p></div>
	</div>
</div>
		
<div class="comment" id="c_1713728773">
	<div>
		<img src="//a.disquscdn.com/1611874952/images/noavatar32.png" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_1713728773">24</a> by Max Monclair
		posted on 2/20/2014 at 9:39 PM
		</div>
		<div class="comment_text"><p>I have a question on the use of the session scope in storing the cart items. I am building a simple cart, and using a similar approach you describe here. It is part of an existing web application using CFCs in a shared directory. When I send my info to my service, which I've added to a CFC in this directory, via AJAX call, it ends up in a different session than the one started when the application is called. As Ajax calls are stateless, and thus leaving the door open for hitting sessions other than the one available to my CF code, how could I manage this so I can make anything sent via Ajax to my service available to my application?</p></div>
	</div>
</div>
		
<div class="comment" id="c_1713728774">
	<div>
		<img src="//a.disquscdn.com/1611874952/images/noavatar32.png" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_1713728774">25</a> by Raymond Camden
		posted on 2/21/2014 at 3:04 AM
		</div>
		<div class="comment_text"><p>Ajax calls will pass along the same cookies CF makes to identify you for sessions, so if your CFC updates <a href="http://disq.us/url?url=http%3A%2F%2Fsession.foo%3A0GFwmortM5kwImb-zfNafWJu1YY&amp;cuid=3321886" rel="nofollow noopener" title="session.foo">session.foo</a>, it will be for the same user... unless you put the CFC in a folder w/ another Application.cfc.</p></div>
	</div>
</div>
		
<div class="comment" id="c_1713728775">
	<div>
		<img src="//a.disquscdn.com/1611874952/images/noavatar32.png" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_1713728775">26</a> by Tim
		posted on 8/20/2014 at 10:24 PM
		</div>
		<div class="comment_text"><p>How would you get the quantities of each item to refresh in real time?</p></div>
	</div>
</div>
		
<div class="comment" id="c_1713728776">
	<div>
		<img src="//a.disquscdn.com/1611874952/images/noavatar32.png" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_1713728776">27</a> by Raymond Camden
		posted on 8/20/2014 at 10:31 PM
		</div>
		<div class="comment_text"><p>Why would you need that? Unless the user opens another tab to go shopping, it really isn't necessary. You could use a JS timeout to check the server every 30 seconds.</p></div>
	</div>
</div>
		
<div class="comment" id="c_1713728778">
	<div>
		<img src="//a.disquscdn.com/1611874952/images/noavatar32.png" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_1713728778">28</a> by Tim
		posted on 8/20/2014 at 11:59 PM
		</div>
		<div class="comment_text"><p>Whoops, I should clarify - I was thinking more along the lines of an incremental indicator alongside each item showing the current quantity in your cart.  Alongside a "+/-" button to adjust quantity and update every time you add or subtract, i.e.:   [ - ]  0  [ + ]</p></div>
	</div>
</div>
		
<div class="comment" id="c_1713728777">
	<div>
		<img src="//a.disquscdn.com/1611874952/images/noavatar32.png" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_1713728777">29</a> by Raymond Camden
		posted on 8/21/2014 at 12:02 AM
		</div>
		<div class="comment_text"><p>Your CFC would simply have a method that allows you to add one or subtract one of a line item from a cart. It's definitely doable. I'm not going to write it out in a blog comment of course. But you could do it rather quickly I'd think.</p></div>
	</div>
</div>
		