
<div class="comment" id="c_1965550770">
	<div>
		<img src="https://disqus.com/api/users/avatars/jerrybels.jpg" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_1965550770">1</a> by JerryBels
		posted on 4/13/2015 at 7:44 PM
		</div>
		<div class="comment_text"><p>That's exactly what I came up with also. Nice tutorial ! Thanks :)</p></div>
	</div>
</div>
		
<div class="comment" id="c_2014979116">
	<div>
		<img src="https://disqus.com/api/users/avatars/gauravchandra.jpg" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_2014979116">2</a> by Gaurav Chandra
		posted on 5/9/2015 at 8:52 AM
		</div>
		<div class="comment_text"><p>how can I move the code for downloading from controller to a service?</p></div>
	</div>
</div>
		
<div class="comment" id="c_2015182894">
	<div>
		<img src="https://disqus.com/api/users/avatars/cfjedimaster.jpg" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_2015182894">3</a> (In reply to <a href="#c_2014979116">#2</a>) by Raymond Camden
		posted on 5/9/2015 at 12:59 PM
		</div>
		<div class="comment_text"><p>Just do it? I mean - just put it in a service and call the service method.</p></div>
	</div>
</div>
		
<div class="comment" id="c_2015347670">
	<div>
		<img src="https://disqus.com/api/users/avatars/gauravchandra.jpg" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_2015347670">4</a> (In reply to <a href="#c_2015182894">#3</a>) by Gaurav Chandra
		posted on 5/9/2015 at 2:48 PM
		</div>
		<div class="comment_text"><p>Sorry for the stupid question. I was able to create a service after 5 min of having a mug of coffee :)</p></div>
	</div>
</div>
		
<div class="comment" id="c_2015383522">
	<div>
		<img src="https://disqus.com/api/users/avatars/cfjedimaster.jpg" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_2015383522">5</a> (In reply to <a href="#c_2015347670">#4</a>) by Raymond Camden
		posted on 5/9/2015 at 3:13 PM
		</div>
		<div class="comment_text"><p>Nah, not stupid. As it stands, when I was learning Angular (wait, I still am), I did a lot in my controllers and rarely used services. This post should use a service!</p></div>
	</div>
</div>
		
<div class="comment" id="c_2029934708">
	<div>
		<img src="https://disqus.com/api/users/avatars/dmastag.jpg" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_2029934708">6</a> by Julian
		posted on 5/17/2015 at 11:12 AM
		</div>
		<div class="comment_text"><p>Again, great post. <br>One question though, I am working on app where on the first start I have to download 400 image assets. It looks like $q.all is trying to run all at the same time which is practically crashing the whole Application.</p><p>Any thoughts how to overcome this kind of problem?</p></div>
	</div>
</div>
		
<div class="comment" id="c_2030077506">
	<div>
		<img src="https://disqus.com/api/users/avatars/cfjedimaster.jpg" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_2030077506">7</a> (In reply to <a href="#c_2029934708">#6</a>) by Raymond Camden
		posted on 5/17/2015 at 1:22 PM
		</div>
		<div class="comment_text"><p>You can download a zip and unzip it client-side, but a 400 image zip might be rather large still. You could do 100 at a time, which could help.</p></div>
	</div>
</div>
		
<div class="comment" id="c_2030134886">
	<div>
		<img src="https://disqus.com/api/users/avatars/dmastag.jpg" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_2030134886">8</a> (In reply to <a href="#c_2030077506">#7</a>) by Julian
		posted on 5/17/2015 at 2:18 PM
		</div>
		<div class="comment_text"><p>Didn't think about putting it into a zip file. I will need to talk to the server-side developers to change it but the effort would be worth it. Thanks</p></div>
	</div>
</div>
		
<div class="comment" id="c_2030153582">
	<div>
		<img src="https://disqus.com/api/users/avatars/cfjedimaster.jpg" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_2030153582">9</a> (In reply to <a href="#c_2030134886">#8</a>) by Raymond Camden
		posted on 5/17/2015 at 2:34 PM
		</div>
		<div class="comment_text"><p>I'm being lazy right now, but if you search my blog, I wrote up this process a few years back.</p></div>
	</div>
</div>
		
<div class="comment" id="c_2030155995">
	<div>
		<img src="https://disqus.com/api/users/avatars/cfjedimaster.jpg" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_2030155995">10</a> (In reply to <a href="#c_2030134886">#8</a>) by Raymond Camden
		posted on 5/17/2015 at 2:36 PM
		</div>
		<div class="comment_text"><p>Ok here it is: <a href="http://disq.us/url?url=http%3A%2F%2Fwww.adobe.com%2Fdevnet%2Farchive%2Fhtml5%2Farticles%2Freal-world-example-html5-filesystem-api.html%3AexFJr0-wTol37KuqycuzZPcf8Zc&amp;cuid=3321886" rel="nofollow noopener" title="http://www.adobe.com/devnet/archive/html5/articles/real-world-example-html5-filesystem-api.html">http://www.adobe.com/devnet...</a></p></div>
	</div>
</div>
		
<div class="comment" id="c_2349523738">
	<div>
		<img src="https://disqus.com/api/users/avatars/HaroonDilshad.jpg" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_2349523738">11</a> by HaroonDilshad
		posted on 11/9/2015 at 2:22 AM
		</div>
		<div class="comment_text"><p>Hey Raymond, great posting. For the promises, the success callbacks are firing just fine but not the progress update. I was skeptical ngCordova wasn't firing them but then I did only one upload without promises and the progress update fired fine.</p><p>$q.all(promises).then(function(result) {<br>        // Success!<br>      }, function(err) {<br>        // Error<br>      }, function (progress) {<br>        // constant progress updates<br>      });<br>Any idea where I'm going wrong?</p></div>
	</div>
</div>
		
<div class="comment" id="c_2350075346">
	<div>
		<img src="https://disqus.com/api/users/avatars/cfjedimaster.jpg" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_2350075346">12</a> (In reply to <a href="#c_2349523738">#11</a>) by Raymond Camden
		posted on 11/9/2015 at 2:29 PM
		</div>
		<div class="comment_text"><p>I think you are misunderstanding $q.all(....).then. This code is saying, "When all of the promises have successfully completed, do X". In that scenario, we aren't listening for the progress events at all. You would need to add your own listeners to *every* request and then somehow manage them in such a way that it made sense visually. Keep in mind each is getting a %, but you don't know if file 2 is bigger than file 1. It's going to be near impossible to manage imo.</p></div>
	</div>
</div>
		
<div class="comment" id="c_2388437412">
	<div>
		<img src="https://disqus.com/api/users/avatars/disqus_csdyJoTiiG.jpg" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_2388437412">13</a> by karim
		posted on 12/2/2015 at 8:47 AM
		</div>
		<div class="comment_text"><p>Thank you, nice tutorial.</p></div>
	</div>
</div>
		
<div class="comment" id="c_2483328485">
	<div>
		<img src="https://disqus.com/api/users/avatars/disqus_Jc1EsD9ODU.jpg" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_2483328485">14</a> by sunset
		posted on 1/28/2016 at 5:53 PM
		</div>
		<div class="comment_text"><p>Hi! I'm a starter in Ionic. This is very helpful arc for me.<br>But I have a question.<br>In the above sample codes, how can I show the progress for downloading?<br>Hope your help.</p></div>
	</div>
</div>
		
<div class="comment" id="c_2483377683">
	<div>
		<img src="https://disqus.com/api/users/avatars/cfjedimaster.jpg" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_2483377683">15</a> (In reply to <a href="#c_2483328485">#14</a>) by Raymond Camden
		posted on 1/28/2016 at 6:19 PM
		</div>
		<div class="comment_text"><p>In theory you can add progress event handlers to each process, but representing the status in a way that makes sense would be difficult. If you have 3 transfers and 1 is 23% done and 2 is 91% done and 3 is 5% done, what's the status? It isn't impossible, just clunky.</p><p>I think you can bind a complete handler for each one and keep a counter so you could at least say "X of Y done."</p></div>
	</div>
</div>
		
<div class="comment" id="c_2483868752">
	<div>
		<img src="https://disqus.com/api/users/avatars/disqus_Jc1EsD9ODU.jpg" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_2483868752">16</a> (In reply to <a href="#c_2483377683">#15</a>) by sunset
		posted on 1/28/2016 at 10:44 PM
		</div>
		<div class="comment_text"><p>Thanks for your reply.<br>I hope the details.<br>so I think total progress. If I have 3 transfers and 1 is 23 % done and 2 is 91% done and 3 is 5% done, and then the total progress is (23 + 91 + 5) / 3 = 39 %.<br>Can I calculate this progress during downloading?<br>How about your think?</p></div>
	</div>
</div>
		
<div class="comment" id="c_2485689888">
	<div>
		<img src="https://disqus.com/api/users/avatars/cfjedimaster.jpg" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_2485689888">17</a> (In reply to <a href="#c_2483868752">#16</a>) by Raymond Camden
		posted on 1/29/2016 at 10:35 PM
		</div>
		<div class="comment_text"><p>I'm not sure if that math is right, but sure, go for it. :) To monitor progress, see the FileTransfer docs. It shows how to specify a call back for it.</p></div>
	</div>
</div>
		
<div class="comment" id="c_2485895815">
	<div>
		<img src="https://disqus.com/api/users/avatars/disqus_Jc1EsD9ODU.jpg" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_2485895815">18</a> (In reply to <a href="#c_2485689888">#17</a>) by sunset
		posted on 1/30/2016 at 1:26 AM
		</div>
		<div class="comment_text"><p>Thank you. Thank you.<br>And I have a problem. I used your code to download image files in main controller.<br>After in another controller, I'm trying to use the image.<br>But I can get the native file path, but it isn't show image tag.<br>How can I do? Help me!<br>My codes are the following.</p><p>another controller</p><p>var fname = "001.jpg";</p><p>$cordovaFile.checkFile(cordova.file.externalCacheDirectory, fname)</p><p>          .then(function(obj) {</p><p>            $scope.img_url = obj.nativeURL;<br>            $scope.$apply();</p><p>          }, function(error) {<br>            alert(JSON.stringify(error));<br>          });</p><p>I hope your help.</p><p>Best regards.</p></div>
	</div>
</div>
		
<div class="comment" id="c_2486457833">
	<div>
		<img src="https://disqus.com/api/users/avatars/cfjedimaster.jpg" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_2486457833">19</a> (In reply to <a href="#c_2485895815">#18</a>) by Raymond Camden
		posted on 1/30/2016 at 1:34 PM
		</div>
		<div class="comment_text"><p>Do you see any errors in your console when you test w/ Chrome Remote Debug or Safari Remote Debug?</p></div>
	</div>
</div>
		
<div class="comment" id="c_2486674571">
	<div>
		<img src="https://disqus.com/api/users/avatars/disqus_Jc1EsD9ODU.jpg" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_2486674571">20</a> (In reply to <a href="#c_2486457833">#19</a>) by sunset
		posted on 1/30/2016 at 4:35 PM
		</div>
		<div class="comment_text"><p>When I test Chrome broswer, I can't the downloads the file.<br>error;<br>XMLHttpRequest cannot load <a href="http://disq.us/url?url=http%3A%2F%2Fprojects.techindustan.com%2Fionic%2F%3Fcategory%3Dnew_categories%3A81Tf3wq4dwtZipS3O0-5B-OMYNs&amp;cuid=3321886" rel="nofollow noopener" title="http://projects.techindustan.com/ionic/?category=new_categories">http://projects.techindusta...</a>. No 'Access-Control-Allow-Origin' header is present on the requested resource. Origin 'http://localhost:8100' is therefore not allowed access.</p><p>So I tested it on device. But I can't see the error alert.<br>What's the matter?</p></div>
	</div>
</div>
		
<div class="comment" id="c_2486948850">
	<div>
		<img src="https://disqus.com/api/users/avatars/cfjedimaster.jpg" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_2486948850">21</a> (In reply to <a href="#c_2486674571">#20</a>) by Raymond Camden
		posted on 1/30/2016 at 8:01 PM
		</div>
		<div class="comment_text"><p>Did you try remote debugging?</p></div>
	</div>
</div>
		
<div class="comment" id="c_2555968083">
	<div>
		<img src="https://disqus.com/api/users/avatars/disqus_Omlzp700O1.jpg" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_2555968083">22</a> by Alex Lyalyuk
		posted on 3/7/2016 at 1:50 PM
		</div>
		<div class="comment_text"><p>$q.all(promises) runs all promises downloading at the same time. I have more than 500 images how to make downloading in threads? Because 500+ queries to the webserver is too much and I have a lot of connection errors. Also I thing it should have some timeout between connection. Do you have any ideas how to solve my problem?</p></div>
	</div>
</div>
		
<div class="comment" id="c_2556158541">
	<div>
		<img src="https://disqus.com/api/users/avatars/cfjedimaster.jpg" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_2556158541">23</a> (In reply to <a href="#c_2555968083">#22</a>) by Raymond Camden
		posted on 3/7/2016 at 4:02 PM
		</div>
		<div class="comment_text"><p>Well, there's a couple of things to consider.</p><p>First, check out the ContentSync plugin. It lets you point to a zip and the plugin handles grabbing it and extracting it. It could be perfect for this.</p><p>Another idea would be to consider 'batching' up the 500 downloads into bundles of 10-25 or so. Let the user grab some, and then grab another bunch after the first is done.</p></div>
	</div>
</div>
		
<div class="comment" id="c_2559943827">
	<div>
		<img src="https://disqus.com/api/users/avatars/disqus_Omlzp700O1.jpg" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_2559943827">24</a> (In reply to <a href="#c_2556158541">#23</a>) by Alex Lyalyuk
		posted on 3/9/2016 at 3:41 PM
		</div>
		<div class="comment_text"><p>Thank you for your answer!<br>I separated downloading process into bundles. I wrapped $<a href="http://disq.us/url?url=http%3A%2F%2FcordovaFileTransfer.download%3AeZIPfOmQFV8d7rsMwdqa0R7Ie2I&amp;cuid=3321886" rel="nofollow noopener" title="cordovaFileTransfer.download">cordovaFileTransfer.download</a> in anonymous function. And I call each download recursively. <br>Now i have another trouble - It works perfectly with small images (less than 30kb); But it doesn`t work with large files. How to fix it?</p></div>
	</div>
</div>
		
<div class="comment" id="c_2560287413">
	<div>
		<img src="https://disqus.com/api/users/avatars/disqus_Omlzp700O1.jpg" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_2560287413">25</a> (In reply to <a href="#c_2559943827">#24</a>) by Alex Lyalyuk
		posted on 3/9/2016 at 6:34 PM
		</div>
		<div class="comment_text"><p>I`ve solved this problem by removing options, trustHosts properties</p></div>
	</div>
</div>
		
<div class="comment" id="c_2604933363">
	<div>
		<img src="https://disqus.com/api/users/avatars/disqus_5bcvxbQE3P.jpg" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_2604933363">26</a> by Patrick Lau
		posted on 4/4/2016 at 7:24 AM
		</div>
		<div class="comment_text"><p>Hi, I am new to ionic framework and I tried to use your method to upload multiple images. I am now stuck with the problem that the upload result seems to be inconsistent, not all my images were uploaded, only a partial of the images were uploaded and the number varies each time I try the upload. What could be the problem?</p></div>
	</div>
</div>
		
<div class="comment" id="c_2605222342">
	<div>
		<img src="https://disqus.com/api/users/avatars/cfjedimaster.jpg" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_2605222342">27</a> (In reply to <a href="#c_2604933363">#26</a>) by Raymond Camden
		posted on 4/4/2016 at 1:02 PM
		</div>
		<div class="comment_text"><p>Do you see anything interesting in your devtools console?</p></div>
	</div>
</div>
		
<div class="comment" id="c_2695952182">
	<div>
		<img src="https://disqus.com/api/users/avatars/disqus_jDKivFbBZD.jpg" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_2695952182">28</a> by Owen Williams
		posted on 5/26/2016 at 6:05 AM
		</div>
		<div class="comment_text"><p>Cheers Ray! Great tips, just applied it to my project, cheers!</p></div>
	</div>
</div>
		
<div class="comment" id="c_3527585636">
	<div>
		<img src="https://disqus.com/api/users/avatars/manojkumarmobileappdept.jpg" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_3527585636">29</a> by Manoj Kumar Mobile App Dept
		posted on 9/21/2017 at 6:53 AM
		</div>
		<div class="comment_text"><p>great but if there is file transfer error it's shows me multiple time how i can stop for-each on first file transfer error</p></div>
	</div>
</div>
		
<div class="comment" id="c_3527872167">
	<div>
		<img src="https://disqus.com/api/users/avatars/cfjedimaster.jpg" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_3527872167">30</a> (In reply to <a href="#c_3527585636">#29</a>) by Raymond Camden
		posted on 9/21/2017 at 12:31 PM
		</div>
		<div class="comment_text"><p>So yeah - my code assumes they all work and doesn't have a catch clause for the Promise.all. If you add that, you should be able to check the results of the errors there.</p><p>Note though I would not use ngCordova w/ Ionic, but rather Ionic Native with Ionic 2+.</p></div>
	</div>
</div>
		
<div class="comment" id="c_3529474296">
	<div>
		<img src="https://disqus.com/api/users/avatars/manojkumarmobileappdept.jpg" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_3529474296">31</a> by Manoj Kumar Mobile App Dept
		posted on 9/22/2017 at 5:03 AM
		</div>
		<div class="comment_text"><p>DOWNLOAD 20 FILES AT A TIME WITH IONIC 3 WITH ERROR HANDLING</p><p><a href="https://disq.us/url?url=https%3A%2F%2Fjsfiddle.net%2Fuve5e745%2F%3AzyXdNG_vpl9xBLgFUQCkO9kt0IA&amp;cuid=3321886" rel="nofollow noopener" title="https://jsfiddle.net/uve5e745/">https://jsfiddle.net/uve5e745/</a></p></div>
	</div>
</div>
		
<div class="comment" id="c_3529734984">
	<div>
		<img src="https://disqus.com/api/users/avatars/cfjedimaster.jpg" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_3529734984">32</a> (In reply to <a href="#c_3529474296">#31</a>) by Raymond Camden
		posted on 9/22/2017 at 11:07 AM
		</div>
		<div class="comment_text"><p>Please do not post large blocks of code as comments. Next time link to a codepen or Gist.</p></div>
	</div>
</div>
		
<div class="comment" id="c_3529828886">
	<div>
		<img src="https://disqus.com/api/users/avatars/manojkumarmobileappdept.jpg" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_3529828886">33</a> (In reply to <a href="#c_3529734984">#32</a>) by Manoj Kumar Mobile App Dept
		posted on 9/22/2017 at 12:36 PM
		</div>
		<div class="comment_text"><p>SURE SIR....</p></div>
	</div>
</div>
		