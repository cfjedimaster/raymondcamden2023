
<div class="comment" id="c_1713654311">
	<div>
		<img src="//a.disquscdn.com/1611874952/images/noavatar32.png" class="comment_author_profile_pic">
	</div>
	<div>
		<div class="comment_header">
		Comment <a href="#c_1713654311">1</a> by Tony Petruzzi
		posted on 6/20/2006 at 10:44 PM
		</div>
		<div class="comment_text"><p>&lt;cfcomponent output="false"&gt;<br>	&lt;!---/// <br>	This is a template of the Application.cfc file for ColdFusion. Use this when creating new applications<br>	as it will help and guide you.</p><p>	Variable  				Default  				Description<br>	--------				-------					-----------<br>	name					no name					The application name. If you do not set this variable, or set it to the empty string, your CFC applies to the unnamed application scope, which is the ColdFusion MX J2EE servlet context. For more information on unnamed scopes see Sharing data between ColdFusion pages and JSP pages or servlets in ColdFusion MX Developer's Guide.<br>	applicationTimeout		Administrator value		Life span, as a real number of days, of the application, including all Application scope variables. Use the CFML CreateTimeSpan function to generate this variable's value.<br>	clientManagement		Administrator value		Whether the application supports Client scope variables.<br>	clientStorage			Administrator value		Where Client variables are stored; can be cookie, registry, or the name of a data source.<br>	loginStorage			cookie					Whether to store login information in the Cookie scope or the Session scope.<br>	sessionManagement		no						Whether the application supports Session scope variables.<br>	sessionTimeout			Administrator value		Life span, as a real number of days, of the user session, including all Session variables. Use the CFML CreateTimeSpan function to generate this variable's value.<br>	setClientCookies		True					Whether to send CFID and CFTOKEN cookies to the client browser.<br>	setDomainCookies		False					Whether to set CFID and CFTOKEN cookies for a domain (not just a host).<br>	scriptProtect			Administrator value		Whether to protect variables from cross-site scripting attacks.<br>	 ///---&gt;</p><p>	&lt;cfset <a href="http://disq.us/url?url=http%3A%2F%2Fthis.name%3AEm-S9q6F4e-8KUeib7Eeo3ysjlY&amp;cuid=3321886" rel="nofollow noopener" title="this.name">this.name</a> = "hrapp2"&gt;<br>	&lt;cfset this.applicationTimeout = createTimeSpan(0,2,0,0)&gt;<br>	&lt;cfset this.clientManagement = false&gt;<br>	&lt;cfset this.clientStorage = "cookie"&gt;<br>	&lt;cfset this.loginStorage = "cookie"&gt;<br>	&lt;cfset this.sessionManagement = false&gt;<br>	&lt;cfset this.sessionTimeout = createTimeSpan(0,0,20,0)&gt;<br>	&lt;cfset this.setClientCookies = true&gt;<br>	&lt;cfset this.setDomainCookies = false&gt;<br>	&lt;cfset this.scriptProtect = false&gt;</p><p>	&lt;cffunction name="onApplicationStart" returnType="boolean" output="false"&gt;</p><p>		&lt;!---/// <br>		Application structures<br>		======================</p><p>		application.settings		all settings for the application<br>		application.functions		any functions that the application uses</p><p>		 ///---&gt;</p><p>		&lt;cfset application.settings.testmode = true&gt;	<br>		&lt;cfset application.settings.WebRoot = GetDirectoryFromPath(GetCurrentTemplatePath())&gt;<br>		&lt;cfset application.settings.webmasteremail = "tonyp@rolist.com"&gt;</p><p>		&lt;!---/// place global variables here ///---&gt;</p><p>		&lt;cfreturn true&gt;<br>	&lt;/cffunction&gt;</p><p>	&lt;cffunction name="onApplicationEnd" returnType="void" output="false"&gt;<br>		&lt;cfargument name="applicationScope" required="true"&gt;<br>	&lt;/cffunction&gt;</p><p>	&lt;cffunction name="onRequestStart" returnType="boolean" output="false"&gt;<br>		&lt;cfargument name="thePage" type="string" required="true"&gt;<br>		&lt;cfset var dirpath = ""&gt;<br>		&lt;cfif isdefined("url.reinit")&gt;<br>			&lt;cfset onApplicationStart()&gt;<br>		&lt;/cfif&gt;</p><p>		&lt;!---/// Gets the directory we are in. Good for adding security ///---&gt;<br>		&lt;cfset dirpath = Replace(GetDirectoryFromPath(GetBaseTemplatePath()), application.settings.WebRoot, "")&gt;<br>		&lt;cfset dirpath = ReReplaceNoCase(dirpath, "(.*[^\\|//])[\\|//]*$", "\1")&gt;</p><p>		&lt;cfreturn true&gt;<br>	&lt;/cffunction&gt;</p><p>	&lt;cffunction name="onRequest" returnType="void"&gt;<br>		&lt;cfargument name="thePage" type="string" required="true"&gt;<br>		&lt;cfinclude template="#arguments.thePage#"&gt;<br>	&lt;/cffunction&gt;</p><p>	&lt;cffunction name="onRequestEnd" returnType="void" output="false"&gt;<br>		&lt;cfargument name="thePage" type="string" required="true"&gt;<br>	&lt;/cffunction&gt;</p><p>	&lt;cffunction name="onError" returnType="void" output="true"&gt;<br>		&lt;cfargument name="exception" required="true"&gt;<br>		&lt;cfargument name="eventname" type="string" required="true"&gt;<br>		&lt;!---/// corrects bug where &lt;cfabort&gt; throw an error ///---&gt;<br>		&lt;cfif arguments.exception.rootCause eq "coldfusion.runtime.AbortException"&gt;<br>		    &lt;cfreturn&gt;<br>		&lt;/cfif&gt;<br>		&lt;!---/// will email the error inforation and display the error page ///---&gt;<br>		&lt;cfif application.settings.testmode&gt;<br>			&lt;p&gt;#eventname#&lt;/p&gt;<br>			&lt;cfdump var="#exception#" label="Exception Information"&gt;<br>			&lt;cfdump var="#url#" label="URL Information"&gt;<br>			&lt;cfdump var="#form#" label="FORM Information"&gt;<br>			&lt;cfdump var="#application#" label="Application Scope"&gt;<br>			&lt;cfif isdefined("session")&gt;<br>				&lt;cfdump var="#session#" label="Session Scope"&gt;<br>			&lt;/cfif&gt;<br>			&lt;cfif isdefined("client")&gt;<br>				&lt;cfdump var="#client#" label="Client Scope"&gt;<br>			&lt;/cfif&gt;<br>		&lt;cfelse&gt;<br>			&lt;cfmail to="#application.settings.webmasteremail#" from="error@#cgi.http_host#" subject="Error has occured on #cgi.http_host#" type="HTML"&gt;<br>			&lt;p&gt;#eventname#&lt;/p&gt;<br>			&lt;cfdump var="#exception#" label="Exception Information"&gt;<br>			&lt;cfdump var="#url#" label="URL Information"&gt;<br>			&lt;cfdump var="#form#" label="FORM Information"&gt;<br>			&lt;cfdump var="#application#" label="Application Scope"&gt;<br>			&lt;cfif isdefined("session")&gt;<br>				&lt;cfdump var="#session#" label="Session Scope"&gt;<br>			&lt;/cfif&gt;<br>			&lt;cfif isdefined("client")&gt;<br>				&lt;cfdump var="#client#" label="Client Scope"&gt;<br>			&lt;/cfif&gt;<br>			&lt;/cfmail&gt;<br>			&lt;h1&gt;An Error has occurred&lt;/h1&gt;<br>			&lt;p&gt;All error information has been emailed to the webmaster and will be fixed momentarily.&lt;/p&gt;<br>			&lt;p&gt;Please click back on your browser.&lt;/p&gt;<br>		&lt;/cfif&gt;</p><p>	&lt;/cffunction&gt;</p><p>	&lt;cffunction name="onSessionStart" returnType="void" output="false"&gt;<br>	&lt;/cffunction&gt;</p><p>	&lt;cffunction name="onSessionEnd" returnType="void" output="false"&gt;<br>		&lt;cfargument name="sessionScope" type="struct" required="true"&gt;<br>		&lt;cfargument name="appScope" type="struct" required="false"&gt;<br>	&lt;/cffunction&gt;</p><p>&lt;/cfcomponent&gt;</p><p>Here are some comments and additional funtionality I added to you application.cfc awhile ago. Maybe this will help him out.</p></div>
	</div>
</div>
		